import{w as f}from"./with-props-ZOeI68im.js";import{a as c,o as e}from"./chunk-AYJ5UCUI-D4HAw8fG.js";import{T as S}from"./Title-nikQtO65.js";import{a as p}from"./api-config-Ck0FkwKe.js";const{uri:E,routes:y}=p,R=`${E}${y.submitEntry}`,m={title:"",body:""},h={body:"",isActive:!1,isError:!1},r={SUCCESSFUL_SUBMIT:"The entry was submitted successfully!",ERROR_SUBMIT:"There was an error submitting the entry",TITLE_VALIDATION_ERROR:"Please fill a title.",BODY_VALIDATION_ERROR:"Please fill a body."};function _({}){return[{title:"Submit"},{name:"description",content:"Welcome to React Router!"}]}const T=()=>{const[s,a]=c.useState({...m}),[i,o]=c.useState({...h}),n=(t,b)=>{a({...s,[t]:b})},u=()=>{s.title.length===0?o({body:r.TITLE_VALIDATION_ERROR,isActive:!0,isError:!0}):s.body.length===0?o({body:r.BODY_VALIDATION_ERROR,isActive:!0,isError:!0}):d()},d=async()=>{try{(await fetch(R,{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}})).ok?(o({body:r.SUCCESSFUL_SUBMIT,isActive:!0,isError:!1}),a({...m})):l()}catch{l()}},l=()=>{o({body:r.ERROR_SUBMIT,isActive:!0,isError:!0})};return e.jsxs(e.Fragment,{children:[e.jsx(S,{text:"Submit User Information"}),e.jsx("input",{className:"form-field",placeholder:"title",value:s.title,onChange:t=>n("title",t.target.value)}),e.jsx("input",{className:"form-field",placeholder:"body",value:s.body,onChange:t=>n("body",t.target.value)}),e.jsx("button",{className:"submit-button",onClick:u,children:"Submit"}),i.isActive&&e.jsx("div",{className:`form-message-${i.isError?"error":"success"}`,children:i.body})]})},v=f(T);export{v as default,_ as meta};
